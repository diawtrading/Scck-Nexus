<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCCK ERP NEXUS - Enterprise Resource Planning System</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js for charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- jsPDF and XLSX for exports -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.5.1/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-glow: #00f0ff;
            --secondary-glow: #7000ff;
            --success-glow: #00ff88;
            --warning-glow: #ffaa00;
            --danger-glow: #ff3366;
            --info-glow: #0088ff;
            --dark-bg: #050508;
            --card-bg: rgba(10, 10, 20, 0.8);
            --border-color: rgba(0, 240, 255, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #b0b0c0;
        }

        html, body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Loading screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a14 0%, #1a0a2e 100%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            transition: opacity 0.3s ease-out;
        }

        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s ease-out;
        }

        .loading-logo {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
            text-align: center;
        }

        .loading-bar {
            width: 300px;
            height: 4px;
            background: rgba(0, 240, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }

        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-glow), var(--secondary-glow));
            width: 0%;
            border-radius: 10px;
            box-shadow: 0 0 20px var(--primary-glow);
            transition: width 0.3s ease;
        }

        .loading-text {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Login screen */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a14 0%, #1a0a2e 100%);
            z-index: 9998;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.3s ease-out;
        }

        .login-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .login-container {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 3rem;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 0 50px rgba(0, 240, 255, 0.2);
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
            margin-bottom: 0.5rem;
        }

        .login-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .login-input-group {
            margin-bottom: 1.5rem;
        }

        .login-label {
            display: block;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .login-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(0, 240, 255, 0.05);
            border: 1px solid rgba(0, 240, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.95rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }

        .login-input:focus {
            outline: none;
            border-color: var(--primary-glow);
            background: rgba(0, 240, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }

        .login-btn {
            width: 100%;
            padding: 0.9rem;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            color: var(--dark-bg);
            border: none;
            border-radius: 8px;
            font-weight: 700;
            font-size: 0.95rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
            margin-top: 0.5rem;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 240, 255, 0.4);
        }

        .login-demos {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .login-demos-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }

        .demo-badge {
            display: inline-block;
            padding: 0.4rem 0.8rem;
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid rgba(0, 240, 255, 0.3);
            border-radius: 6px;
            font-size: 0.75rem;
            color: var(--primary-glow);
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            font-family: 'JetBrains Mono', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-badge:hover {
            background: rgba(0, 240, 255, 0.2);
            border-color: var(--primary-glow);
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.3);
        }

        /* Main container */
        .erp-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            grid-template-rows: auto 1fr;
            height: 100vh;
            gap: 0;
        }

        /* Sidebar */
        .sidebar {
            grid-row: 1 / -1;
            grid-column: 1;
            background: rgba(10, 10, 20, 0.95);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding-top: 1.5rem;
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .sidebar.mobile-hidden {
            position: absolute;
            left: -250px;
            height: calc(100vh - 60px);
            top: 60px;
        }

        .sidebar-logo {
            padding: 0 1.5rem;
            margin-bottom: 2rem;
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
        }

        .nav-section {
            margin-bottom: 2rem;
            padding: 0 1rem;
        }

        .nav-section-title {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: var(--text-secondary);
            padding: 0 0.5rem;
            margin-bottom: 1rem;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .nav-item {
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.95rem;
            color: var(--text-secondary);
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(0, 240, 255, 0.1);
            color: var(--primary-glow);
            border-left-color: var(--primary-glow);
        }

        .nav-item.active {
            background: rgba(0, 240, 255, 0.15);
            color: var(--primary-glow);
            border-left-color: var(--primary-glow);
            font-weight: 600;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        /* Header */
        .header {
            grid-column: 2;
            grid-row: 1;
            background: rgba(10, 10, 20, 0.95);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
            height: 70px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex: 1;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--primary-glow);
            cursor: pointer;
            font-size: 1.5rem;
        }

        .header-info h1 {
            font-size: 1.3rem;
            font-weight: 700;
            font-family: 'Space Grotesk', sans-serif;
            margin-bottom: 0.2rem;
        }

        .header-info p {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .search-box {
            background: rgba(0, 240, 255, 0.05);
            border: 1px solid rgba(0, 240, 255, 0.2);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            min-width: 250px;
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--primary-glow);
            background: rgba(0, 240, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }

        .header-icons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .icon-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .icon-btn:hover {
            color: var(--primary-glow);
            background: rgba(0, 240, 255, 0.1);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(0, 240, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-profile:hover {
            background: rgba(0, 240, 255, 0.15);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--dark-bg);
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-size: 0.85rem;
            font-weight: 600;
        }

        .user-role {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        /* Content area */
        .content-area {
            grid-column: 2;
            grid-row: 2;
            overflow-y: auto;
            background: linear-gradient(135deg, rgba(10, 10, 20, 0.95) 0%, rgba(20, 10, 30, 0.95) 100%);
            padding: 2rem;
        }

        /* Modules */
        .module {
            display: none;
            animation: slideUp 0.3s ease-out;
        }

        .module.active {
            display: block;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ERP Card */
        .erp-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .erp-card:hover {
            border-color: rgba(0, 240, 255, 0.5);
            box-shadow: 0 0 30px rgba(0, 240, 255, 0.2);
        }

        .erp-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .erp-card-title {
            font-size: 1.1rem;
            font-weight: 700;
            font-family: 'Space Grotesk', sans-serif;
        }

        .erp-card-subtitle {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .card-value {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-change {
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        .card-change.positive {
            color: var(--success-glow);
        }

        .card-change.negative {
            color: var(--danger-glow);
        }

        .badge {
            display: inline-block;
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-primary {
            background: rgba(0, 240, 255, 0.2);
            color: var(--primary-glow);
            border: 1px solid rgba(0, 240, 255, 0.3);
        }

        .badge-success {
            background: rgba(0, 255, 136, 0.2);
            color: var(--success-glow);
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .badge-warning {
            background: rgba(255, 170, 0, 0.2);
            color: var(--warning-glow);
            border: 1px solid rgba(255, 170, 0, 0.3);
        }

        .badge-danger {
            background: rgba(255, 51, 102, 0.2);
            color: var(--danger-glow);
            border: 1px solid rgba(255, 51, 102, 0.3);
        }

        /* ERP Table */
        .erp-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .erp-table thead {
            background: rgba(0, 240, 255, 0.05);
            border-bottom: 2px solid var(--border-color);
        }

        .erp-table th {
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.5px;
        }

        .erp-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .erp-table tbody tr:hover {
            background: rgba(0, 240, 255, 0.05);
        }

        /* Buttons */
        .btn {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-family: 'Inter', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            color: var(--dark-bg);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 240, 255, 0.3);
        }

        .btn-secondary {
            background: rgba(0, 240, 255, 0.1);
            color: var(--primary-glow);
            border: 1px solid rgba(0, 240, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(0, 240, 255, 0.2);
            border-color: var(--primary-glow);
        }

        .btn-sm {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
        }

        .btn-group {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease-out;
            backdrop-filter: blur(10px);
        }

        .modal-header {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: var(--primary-glow);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .toast {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 300px;
            max-width: 400px;
            animation: slideUp 0.3s ease-out;
            backdrop-filter: blur(10px);
        }

        .toast.success {
            border-color: rgba(0, 255, 136, 0.3);
        }

        .toast.error {
            border-color: rgba(255, 51, 102, 0.3);
        }

        .toast.info {
            border-color: rgba(0, 240, 255, 0.3);
        }

        .toast.warning {
            border-color: rgba(255, 170, 0, 0.3);
        }

        .toast-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .toast.success .toast-icon {
            color: var(--success-glow);
        }

        .toast.error .toast-icon {
            color: var(--danger-glow);
        }

        .toast.info .toast-icon {
            color: var(--primary-glow);
        }

        .toast.warning .toast-icon {
            color: var(--warning-glow);
        }

        /* Quick actions menu */
        .quick-actions {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            z-index: 500;
        }

        .quick-actions-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow));
            border: none;
            color: var(--dark-bg);
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(0, 240, 255, 0.3);
        }

        .quick-actions-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 40px rgba(0, 240, 255, 0.4);
        }

        .quick-actions-menu {
            position: absolute;
            bottom: 80px;
            left: 0;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            min-width: 200px;
            display: none;
            flex-direction: column;
            gap: 0.5rem;
            backdrop-filter: blur(10px);
        }

        .quick-actions-menu.active {
            display: flex;
        }

        .quick-action-item {
            padding: 0.75rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            border: 1px solid transparent;
        }

        .quick-action-item:hover {
            background: rgba(0, 240, 255, 0.1);
            color: var(--primary-glow);
            border-color: rgba(0, 240, 255, 0.3);
        }

        /* KPI Grid */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .kpi-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .kpi-card:hover {
            border-color: rgba(0, 240, 255, 0.5);
            box-shadow: 0 0 30px rgba(0, 240, 255, 0.2);
            transform: translateY(-5px);
        }

        .kpi-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        /* Notifications panel */
        .notifications-panel {
            position: fixed;
            right: 0;
            top: 70px;
            width: 320px;
            height: calc(100vh - 70px);
            background: var(--card-bg);
            border-left: 1px solid var(--border-color);
            padding: 1.5rem;
            z-index: 1500;
            display: none;
            flex-direction: column;
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }

        .notifications-panel.active {
            display: flex;
        }

        .notification-item {
            padding: 1rem;
            background: rgba(0, 240, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .notification-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        /* User menu */
        .user-menu {
            position: absolute;
            top: 70px;
            right: 0;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.5rem 0;
            min-width: 200px;
            display: none;
            flex-direction: column;
            z-index: 1500;
            backdrop-filter: blur(10px);
        }

        .user-menu.active {
            display: flex;
        }

        .user-menu-item {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 0.9rem;
        }

        .user-menu-item:hover {
            background: rgba(0, 240, 255, 0.1);
            color: var(--primary-glow);
        }

        .user-menu-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.5rem 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .erp-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
            }

            .sidebar.mobile-visible {
                display: block;
            }

            .menu-toggle {
                display: flex !important;
            }

            .search-box {
                min-width: auto;
                width: 150px;
            }

            .quick-actions {
                bottom: 1rem;
                left: 1rem;
            }

            .toast-container {
                bottom: 1rem;
                right: 1rem;
            }
        }

        @media (max-width: 768px) {
            .header-right {
                gap: 0.5rem;
            }

            .search-box {
                display: none;
            }

            .user-info {
                display: none;
            }

            .kpi-grid {
                grid-template-columns: 1fr;
            }

            .notifications-panel {
                width: 100%;
            }

            .modal-content {
                max-height: 95vh;
            }
        }

        /* Additional animations */
        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
            }
            50% {
                box-shadow: 0 0 40px rgba(0, 240, 255, 0.5);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .animate-glow {
            animation: glow 2s ease-in-out infinite;
        }

        .animate-float {
            animation: float 3s ease-in-out infinite;
        }

        /* Decorative orbs */
        .orb {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.1;
            z-index: 0;
        }

        .orb-cyan {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--primary-glow), transparent);
            top: 10%;
            right: 10%;
            animation: float 8s ease-in-out infinite;
        }

        .orb-purple {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--secondary-glow), transparent);
            bottom: 10%;
            left: 10%;
            animation: float 10s ease-in-out infinite;
            animation-delay: 2s;
        }
    </style>
</head>
<body>
    <!-- Loading screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">SCCK ERP NEXUS</div>
        <div class="loading-text">Integrated Management System - Cocoa Cooperative</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
        <div class="loading-text" id="loadingText">Initializing system...</div>
    </div>

    <!-- Login screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-header">
                <div class="login-title">SCCK ERP NEXUS</div>
                <div class="login-subtitle">Integrated Management System for Cocoa Cooperative</div>
            </div>

            <div class="login-input-group">
                <label class="login-label">Email / Identifier</label>
                <input type="text" id="loginEmail" class="login-input" placeholder="Your email address" value="ceo@scck.com">
            </div>

            <div class="login-input-group">
                <label class="login-label">Password</label>
                <input type="password" id="loginPassword" class="login-input" placeholder="Your password" value="ceo123">
            </div>

            <button class="login-btn" onclick="handleLogin()">Login</button>

            <div class="login-demos">
                <div class="login-demos-title">Demo Accounts:</div>
                <div>
                    <div class="demo-badge" onclick="setDemoCredentials('ceo@scck.com', 'ceo123')">CEO: ceo@scck.com / ceo123</div>
                    <div class="demo-badge" onclick="setDemoCredentials('cfo@scck.com', 'cfo123')">CFO: cfo@scck.com / cfo123</div>
                    <div class="demo-badge" onclick="setDemoCredentials('ops@scck.com', 'ops123')">COO: ops@scck.com / ops123</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main ERP Container -->
    <div class="erp-container" id="erpContainer" style="display: none;">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-logo">SCCK ERP</div>

            <div class="nav-section">
                <div class="nav-section-title">Main</div>
                <div class="nav-item active" onclick="switchModule('dashboard')">
                    <svg class="nav-icon" data-lucide="grid"></svg>
                    <span>Dashboard</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Cooperative Management</div>
                <div class="nav-item" onclick="switchModule('cooperative')">
                    <svg class="nav-icon" data-lucide="users"></svg>
                    <span>Cooperative</span>
                </div>
                <div class="nav-item" onclick="switchModule('finance')">
                    <svg class="nav-icon" data-lucide="wallet"></svg>
                    <span>Finance</span>
                </div>
                <div class="nav-item" onclick="switchModule('supply-chain')">
                    <svg class="nav-icon" data-lucide="package"></svg>
                    <span>Supply Chain</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Internal Management</div>
                <div class="nav-item" onclick="switchModule('hr')">
                    <svg class="nav-icon" data-lucide="briefcase"></svg>
                    <span>Human Resources</span>
                </div>
                <div class="nav-item" onclick="switchModule('crm')">
                    <svg class="nav-icon" data-lucide="handshake"></svg>
                    <span>Customer Relations</span>
                </div>
                <div class="nav-item" onclick="switchModule('projects')">
                    <svg class="nav-icon" data-lucide="target"></svg>
                    <span>Projects</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Reports & Analytics</div>
                <div class="nav-item" onclick="switchModule('analytics')">
                    <svg class="nav-icon" data-lucide="bar-chart-2"></svg>
                    <span>Analytics</span>
                </div>
                <div class="nav-item" onclick="switchModule('reports')">
                    <svg class="nav-icon" data-lucide="file-text"></svg>
                    <span>Reports</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Configuration</div>
                <div class="nav-item" onclick="switchModule('settings')">
                    <svg class="nav-icon" data-lucide="settings"></svg>
                    <span>Settings</span>
                </div>
                <div class="nav-item" onclick="switchModule('admin')">
                    <svg class="nav-icon" data-lucide="shield"></svg>
                    <span>Administration</span>
                </div>
            </div>
        </nav>

        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="menu-toggle" onclick="toggleSidebar()">
                    <svg width="24" height="24" data-lucide="menu"></svg>
                </button>
                <div class="header-info">
                    <h1 id="headerTitle">Dashboard</h1>
                    <p id="headerSubtitle">Welcome to your workspace</p>
                </div>
            </div>

            <div class="header-right">
                <input type="text" class="search-box" placeholder="Search (Ctrl+K)...">
                <button class="icon-btn" onclick="toggleNotifications()" title="Notifications">
                    <svg width="24" height="24" data-lucide="bell"></svg>
                </button>
                <div class="user-profile" onclick="toggleUserMenu()">
                    <div class="user-avatar" id="userAvatarHeader">JD</div>
                    <div class="user-info">
                        <div class="user-name" id="userNameHeader">John Dupont</div>
                        <div class="user-role" id="userRoleHeader">CEO</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <main class="content-area" id="contentArea">
            <!-- Dashboard Module -->
            <div class="module active" id="dashboard-module">
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-icon">üë•</div>
                        <div class="erp-card-subtitle">Active Producers</div>
                        <div class="card-value" id="kpiProducers">0</div>
                        <div class="card-change positive">‚Üë 12% this month</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon">üí∞</div>
                        <div class="erp-card-subtitle">Revenue</div>
                        <div class="card-value" id="kpiRevenue">0 Mrd</div>
                        <div class="card-change positive">‚Üë 8% this quarter</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon">üì¶</div>
                        <div class="erp-card-subtitle">Tons Collected</div>
                        <div class="card-value" id="kpiCollected">0</div>
                        <div class="card-change positive">‚Üë 15% this month</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon">üìä</div>
                        <div class="erp-card-subtitle">Average Quality</div>
                        <div class="card-value" id="kpiQuality">0%</div>
                        <div class="card-change positive">‚Üë 3% this month</div>
                    </div>
                </div>

                <div class="erp-card">
                    <div class="erp-card-header">
                        <div>
                            <div class="erp-card-title">Revenue Performance</div>
                            <div class="erp-card-subtitle">Revenue vs targets (Last 6 months)</div>
                        </div>
                    </div>
                    <canvas id="revenueChart" style="max-height: 300px;"></canvas>
                </div>

                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Recent Activity Feed</div>
                    </div>
                    <div id="activityFeed" style="max-height: 400px; overflow-y: auto;">
                        <!-- Activities loaded dynamically -->
                    </div>
                </div>
            </div>

            <!-- Other Modules (Stubs) -->
            <div class="module" id="cooperative-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Cooperative Management</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="finance-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Financial Management</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="supply-chain-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Inventory Management</div>
                        <button class="btn btn-primary btn-sm" onclick="showInventoryForm()">+ Add Item</button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="erp-table" id="inventoryTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Item Name</th>
                                    <th>Quantity</th>
                                    <th>Unit</th>
                                    <th>Value (FCFA)</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="module" id="hr-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Human Resources</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="crm-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Customer Management</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="projects-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Project Management</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="analytics-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Analytics & Business Intelligence</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="reports-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">Reports</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="settings-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">System Settings</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>

            <div class="module" id="admin-module">
                <div class="erp-card">
                    <div class="erp-card-header">
                        <div class="erp-card-title">System Administration</div>
                    </div>
                    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Feature in development</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Container -->
    <div class="modal" id="modal">
        <div class="modal-content" id="modalContent">
            <!-- Modal content injected here -->
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notificationsPanel">
        <h3 style="margin-bottom: 1rem;">Notifications</h3>
        <div id="notificationsList">
            <div class="notification-item">
                <strong>System Update</strong>
                <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">New version available</p>
                <div class="notification-time">2 minutes ago</div>
            </div>
        </div>
    </div>

    <!-- User Menu -->
    <div class="user-menu" id="userMenu">
        <div class="user-menu-item" onclick="showProfile()">üë§ My Profile</div>
        <div class="user-menu-item" onclick="showSettings()">‚öôÔ∏è Settings</div>
        <div class="user-menu-divider"></div>
        <div class="user-menu-item" onclick="handleLogout()">üö™ Logout</div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
        <button class="quick-actions-btn" onclick="toggleQuickActions()" title="Quick Actions">
            <svg width="24" height="24" data-lucide="plus"></svg>
        </button>
        <div class="quick-actions-menu" id="quickActionsMenu">
            <div class="quick-action-item" onclick="showProducerForm()">‚ûï New Producer</div>
            <div class="quick-action-item" onclick="showCollectionForm()">üì¶ New Collection</div>
            <div class="quick-action-item" onclick="showTransactionForm()">üí≥ New Transaction</div>
            <div class="quick-action-item" onclick="exportData()">üì• Export Data</div>
        </div>
    </div>

    <!-- Decorative Orbs -->
    <div class="orb orb-cyan"></div>
    <div class="orb orb-purple"></div>

    <script>
        // Global variables
        let currentUser = null;
        let currentModule = 'dashboard';
        let revenueChart = null;

        // ERP Data Store
        const ERPData = {
            producers: [],
            collections: [],
            distributions: [],
            employees: [],
            suppliers: [],
            customers: [],
            inventory: [],
            transactions: [],
            projects: [],
            users: []
        };

        // Demo names and data
        const frenchNames = [
            'Jean', 'Marie', 'Claude', 'Pierre', 'Anne', 'Michel', 'Isabelle', 'Jacques', 'R√©gine', 'Bernard',
            'Monique', 'Philippe', 'Christine', 'Robert', 'Viviane', 'Fran√ßois', 'Martine', 'Paul', 'Sylvie', 'Henri'
        ];

        const lastNames = [
            'Dupont', 'Martin', 'Kon√©', 'Tour√©', 'Diallo', 'Sow', 'Ba', 'Ciss√©', 'Coulibaly', 'Traor√©',
            'Sanogo', 'Keb√©', 'Mbaye', 'Thiam', 'Seck', 'Ndiaye', 'Diouf', 'Camara', 'Fofana', 'Doumbouya'
        ];

        const zones = ['North Zone', 'South Zone', 'East Zone', 'West Zone', 'Central Zone'];
        const statuses = ['Active', 'Inactive', 'Suspended'];
        const qualities = ['Premium', 'Good', 'Standard', 'Poor'];
        const departments = ['Production', 'Finance', 'Human Resources', 'Sales', 'Operations'];
        const contractTypes = ['Full-time', 'Part-time', 'Intern', 'Consultant'];

        // System Users
        const users = {
            'ceo@scck.com': { name: 'John Dupont', role: 'CEO', dept: 'Management', avatar: 'JD' },
            'cfo@scck.com': { name: 'Marie Kon√©', role: 'CFO', dept: 'Finance', avatar: 'MK' },
            'ops@scck.com': { name: 'Amadou Tour√©', role: 'COO', dept: 'Operations', avatar: 'AT' }
        };

        // Data seeding functions
        function seedProducers() {
            const count = 50;
            for (let i = 0; i < count; i++) {
                ERPData.producers.push({
                    id: `PROD-${String(i + 1).padStart(4, '0')}`,
                    nom: `${frenchNames[Math.floor(Math.random() * frenchNames.length)]} ${lastNames[Math.floor(Math.random() * lastNames.length)]}`,
                    zone: zones[Math.floor(Math.random() * zones.length)],
                    superficie: (Math.random() * 10 + 0.5).toFixed(2),
                    statut: statuses[Math.floor(Math.random() * statuses.length)],
                    telephone: `+225 ${String(Math.floor(Math.random() * 1000000000)).padStart(9, '0')}`,
                    dateInscription: new Date(2020 + Math.floor(Math.random() * 4), Math.floor(Math.random() * 12), Math.floor(Math.random() * 28))
                });
            }
        }

        function seedCollections() {
            const count = 100;
            for (let i = 0; i < count; i++) {
                const quantite = (Math.random() * 1000 + 100);
                const prixUnitaire = Math.random() * 500 + 200;
                ERPData.collections.push({
                    id: `COLL-${String(i + 1).padStart(5, '0')}`,
                    date: new Date(2024, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28)),
                    producteur: ERPData.producers[Math.floor(Math.random() * ERPData.producers.length)]?.id,
                    quantite: quantite.toFixed(2),
                    qualite: qualities[Math.floor(Math.random() * qualities.length)],
                    prixUnitaire: prixUnitaire.toFixed(2),
                    total: (quantite * prixUnitaire).toFixed(2)
                });
            }
        }

        function seedDistributions() {
            const intrants = ['Fertilizer', 'Seeds', 'Pesticides', 'Tools', 'Equipment'];
            const count = 30;
            for (let i = 0; i < count; i++) {
                ERPData.distributions.push({
                    id: `DIST-${String(i + 1).padStart(4, '0')}`,
                    date: new Date(2024, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28)),
                    producteur: ERPData.producers[Math.floor(Math.random() * ERPData.producers.length)]?.id,
                    intrant: intrants[Math.floor(Math.random() * intrants.length)],
                    quantite: (Math.random() * 100 + 10).toFixed(2),
                    valeur: (Math.random() * 5000000 + 50000).toFixed(2)
                });
            }
        }

        function seedEmployees() {
            const count = 20;
            for (let i = 0; i < count; i++) {
                ERPData.employees.push({
                    id: `EMP-${String(i + 1).padStart(4, '0')}`,
                    nom: `${frenchNames[Math.floor(Math.random() * frenchNames.length)]} ${lastNames[Math.floor(Math.random() * lastNames.length)]}`,
                    poste: ['Director', 'Manager', 'Supervisor', 'Technician', 'Operator'][Math.floor(Math.random() * 5)],
                    departement: departments[Math.floor(Math.random() * departments.length)],
                    contrat: contractTypes[Math.floor(Math.random() * contractTypes.length)],
                    salaire: (Math.random() * 2000000 + 300000).toFixed(2),
                    dateEmbauche: new Date(2019 + Math.floor(Math.random() * 5), Math.floor(Math.random() * 12), Math.floor(Math.random() * 28))
                });
            }
        }

        function seedSuppliers() {
            const count = 15;
            const companies = ['Agro-Solutions', 'TechFarm', 'NutriBiotech', 'EcoGreen', 'BioAgri', 'FarmCare', 'FastInput', 'QualityFeeds'];
            for (let i = 0; i < count; i++) {
                ERPData.suppliers.push({
                    id: `SUPP-${String(i + 1).padStart(4, '0')}`,
                    nom: companies[i % companies.length] + ' ' + (Math.floor(i / companies.length) + 1),
                    contact: `contact${i}@supplier.com`,
                    telephone: `+225 ${String(Math.floor(Math.random() * 1000000000)).padStart(9, '0')}`,
                    specialite: ['Fertilizer', 'Seeds', 'Pesticides', 'Equipment'][Math.floor(Math.random() * 4)],
                    paiement: ['30 days', '60 days', 'Cash'][Math.floor(Math.random() * 3)]
                });
            }
        }

        function seedCustomers() {
            const count = 5;
            const customerNames = ['Premium Chocolates', 'Cocoa Industry Export', 'International Trade', 'Local Processors', 'Fair Trade Commerce'];
            for (let i = 0; i < count; i++) {
                ERPData.customers.push({
                    id: `CUST-${String(i + 1).padStart(4, '0')}`,
                    nom: customerNames[i],
                    contact: `contact${i}@customer.ci`,
                    telephone: `+225 ${String(Math.floor(Math.random() * 1000000000)).padStart(9, '0')}`,
                    ca: (Math.random() * 500000000 + 100000000).toFixed(2),
                    pays: ['C√¥te d\'Ivoire', 'Ghana', 'Belgium', 'Germany', 'Netherlands'][Math.floor(Math.random() * 5)]
                });
            }
        }

        function seedInventory() {
            const items = ['NPK Fertilizer', 'Certified Seeds', 'Fungicide', 'Insecticide', 'Collection Materials', 'Packaging'];
            items.forEach((item, i) => {
                ERPData.inventory.push({
                    id: `INV-${String(i + 1).padStart(4, '0')}`,
                    nom: item,
                    quantite: Math.floor(Math.random() * 10000 + 1000),
                    unite: ['kg', 'L', 'pcs'][Math.floor(Math.random() * 3)],
                    valeur: (Math.random() * 5000000 + 500000).toFixed(2),
                    min: Math.floor(Math.random() * 500 + 100),
                    max: Math.floor(Math.random() * 5000 + 2000)
                });
            });
        }

        function seedTransactions() {
            const count = 50;
            const comptes = ['1001 - Cash', '1010 - Bank', '2001 - Suppliers', '4001 - Producers', '5001 - Sales'];
            for (let i = 0; i < count; i++) {
                ERPData.transactions.push({
                    id: `TXN-${String(i + 1).padStart(5, '0')}`,
                    date: new Date(2024, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28)),
                    compte: comptes[Math.floor(Math.random() * comptes.length)],
                    description: ['Cocoa Sales', 'Input Purchase', 'Producer Payment', 'Transport Fees', 'Salaries'][Math.floor(Math.random() * 5)],
                    debit: Math.random() > 0.5 ? (Math.random() * 10000000 + 100000).toFixed(2) : 0,
                    credit: Math.random() > 0.5 ? (Math.random() * 10000000 + 100000).toFixed(2) : 0
                });
            }
        }

        function seedProjects() {
            const projectNames = ['North Zone Expansion', 'Quality Improvement', 'Producer Training', 'Irrigation System', 'Blockchain Traceability'];
            projectNames.forEach((name, i) => {
                ERPData.projects.push({
                    id: `PROJ-${String(i + 1).padStart(4, '0')}`,
                    nom: name,
                    description: `Strategic project for ${name.toLowerCase()}`,
                    budget: (Math.random() * 500000000 + 50000000).toFixed(2),
                    depense: (Math.random() * 300000000 + 10000000).toFixed(2),
                    progression: Math.floor(Math.random() * 100),
                    statut: ['Planned', 'In Progress', 'Completed'][Math.floor(Math.random() * 3)],
                    dateDebut: new Date(2024, 0, 1),
                    dateFin: new Date(2024, 11, 31)
                });
            });
        }

        function seedUsers() {
            Object.keys(users).forEach((email, i) => {
                ERPData.users.push({
                    id: `USER-${String(i + 1).padStart(4, '0')}`,
                    email: email,
                    ...users[email]
                });
            });
        }

        // Initialize all seed data
        function initializeData() {
            seedProducers();
            seedCollections();
            seedDistributions();
            seedEmployees();
            seedSuppliers();
            seedCustomers();
            seedInventory();
            seedTransactions();
            seedProjects();
            seedUsers();
        }

        // Simulated loading screen
        function simulateLoading() {
            return new Promise((resolve) => {
                const progress = document.getElementById('loadingProgress');
                const text = document.getElementById('loadingText');
                const steps = ['Initializing...', 'Loading data...', 'System setup...', 'Authentication...'];
                let currentStep = 0;
                let currentProgress = 0;

                const interval = setInterval(() => {
                    currentProgress += Math.random() * 30;
                    if (currentProgress > 95) currentProgress = 95;
                    progress.style.width = currentProgress + '%';

                    if (currentProgress > (currentStep + 1) * 25) {
                        text.textContent = steps[currentStep];
                        currentStep++;
                    }

                    if (currentProgress >= 95) {
                        clearInterval(interval);
                        progress.style.width = '100%';
                        text.textContent = 'Ready!';
                        setTimeout(() => {
                            document.getElementById('loadingScreen').classList.add('hidden');
                            resolve();
                        }, 300);
                    }
                }, 300);
            });
        }

        // Authentication
        function handleLogin() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (users[email] && password) {
                currentUser = { email, ...users[email] };
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('erpContainer').style.display = 'grid';
                updateUserUI();
                loadDashboardData();
                setupEventListeners();
                lucide.createIcons();
            } else {
                showToast('Invalid email or password', 'error');
            }
        }

        function setDemoCredentials(email, password) {
            document.getElementById('loginEmail').value = email;
            document.getElementById('loginPassword').value = password;
        }

        function handleLogout() {
            currentUser = null;
            document.getElementById('userMenu').classList.remove('active');
            document.getElementById('erpContainer').style.display = 'none';
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('loginEmail').value = '';
            document.getElementById('loginPassword').value = '';
        }

        // Update user interface
        function updateUserUI() {
            const avatar = currentUser.avatar;
            const name = currentUser.name;
            const role = currentUser.role;

            document.getElementById('userAvatarHeader').textContent = avatar;
            document.getElementById('userNameHeader').textContent = name;
            document.getElementById('userRoleHeader').textContent = role;
        }

        // Load dashboard data
        function loadDashboardData() {
            const activeProducers = ERPData.producers.filter(p => p.statut === 'Active').length;
            const totalRevenue = ERPData.collections.reduce((sum, c) => sum + parseFloat(c.total), 0);
            const totalCollected = ERPData.collections.reduce((sum, c) => sum + parseFloat(c.quantite), 0);
            const avgQuality = 82.5;

            document.getElementById('kpiProducers').textContent = activeProducers.toLocaleString();
            document.getElementById('kpiRevenue').textContent = (totalRevenue / 1000000000).toFixed(1) + ' Mrd';
            document.getElementById('kpiCollected').textContent = Math.round(totalCollected).toLocaleString();
            document.getElementById('kpiQuality').textContent = avgQuality.toFixed(1) + '%';

            // Load activity feed
            loadActivityFeed();

            // Initialize charts
            initializeCharts();
        }

        function loadActivityFeed() {
            const feed = document.getElementById('activityFeed');
            const activities = [
                { time: '5 minutes ago', text: 'New cocoa collection recorded: 500 kg' },
                { time: '30 minutes ago', text: 'Producer Jean Kouakou delivered 150 kg' },
                { time: '2 hours ago', text: 'Payment of 25,000,000 FCFA made' },
                { time: 'Yesterday', text: 'Monthly report generated successfully' },
                { time: '2 days ago', text: 'New producer training session organized' }
            ];

            feed.innerHTML = activities.map(activity => `
                <div style="padding: 1rem; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: start;">
                    <div>
                        <p style="color: var(--text-primary); margin-bottom: 0.3rem;">${activity.text}</p>
                        <p style="color: var(--text-secondary); font-size: 0.8rem;">${activity.time}</p>
                    </div>
                </div>
            `).join('');
        }

        // Initialize charts
        function initializeCharts() {
            const ctx = document.getElementById('revenueChart')?.getContext('2d');
            if (!ctx) return;

            const months = ['January', 'February', 'March', 'April', 'May', 'June'];
            const revenue = [450, 520, 480, 650, 720, 890];
            const target = [500, 500, 600, 600, 700, 800];

            if (revenueChart) revenueChart.destroy();

            revenueChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [
                        {
                            label: 'Actual Revenue',
                            data: revenue,
                            borderColor: '#00f0ff',
                            backgroundColor: 'rgba(0, 240, 255, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointBackgroundColor: '#00f0ff',
                            pointBorderColor: '#00f0ff'
                        },
                        {
                            label: 'Target',
                            data: target,
                            borderColor: '#7000ff',
                            backgroundColor: 'rgba(112, 0, 255, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointBackgroundColor: '#7000ff',
                            pointBorderColor: '#7000ff'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            labels: { color: 'rgba(255, 255, 255, 0.7)', font: { size: 12 } }
                        }
                    },
                    scales: {
                        y: { 
                            ticks: { color: 'rgba(255, 255, 255, 0.5)' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        x: { 
                            ticks: { color: 'rgba(255, 255, 255, 0.5)' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            });
        }

        // Render functions
        function renderProducers() {
            const tbody = document.querySelector('#producersTable tbody');
            if (!tbody) return;
            
            tbody.innerHTML = ERPData.producers.map(p => `
                <tr>
                    <td>${p.id}</td>
                    <td>${p.nom}</td>
                    <td>${p.zone}</td>
                    <td><span class="badge ${p.statut === 'Active' ? 'badge-success' : 'badge-warning'}">${p.statut}</span></td>
                    <td>${p.telephone}</td>
                    <td>
                        <button class="btn btn-sm btn-secondary">View</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderFinance() {
            const tbody = document.querySelector('#financeTable tbody');
            if (!tbody) return;

            tbody.innerHTML = ERPData.transactions.map(t => {
                const amount = t.credit > 0 ? `+${t.credit}` : `-${t.debit}`;
                const color = t.credit > 0 ? 'var(--success-glow)' : 'var(--danger-glow)';
                return `
                <tr>
                    <td>${t.id}</td>
                    <td>${t.date.toLocaleDateString()}</td>
                    <td>${t.description}</td>
                    <td>${t.compte}</td>
                    <td style="color: ${color}; font-weight: bold;">${parseFloat(amount).toLocaleString()} FCFA</td>
                </tr>
            `}).join('');
        }

        function renderSupplyChain() {
            const tbody = document.querySelector('#inventoryTable tbody');
            if (!tbody) return;

            tbody.innerHTML = ERPData.inventory.map(item => {
                let statusBadge = 'badge-success';
                let statusText = 'In Stock';
                
                if (item.quantite < item.min) {
                    statusBadge = 'badge-danger';
                    statusText = 'Low Stock';
                } else if (item.quantite > item.max) {
                    statusBadge = 'badge-warning';
                    statusText = 'Overstock';
                }

                return `
                <tr>
                    <td>${item.id}</td>
                    <td>${item.nom}</td>
                    <td>${item.quantite.toLocaleString()}</td>
                    <td>${item.unite}</td>
                    <td>${parseFloat(item.valeur).toLocaleString()}</td>
                    <td><span class="badge ${statusBadge}">${statusText}</span></td>
                </tr>
            `}).join('');
        }

        // Switch module
        function switchModule(moduleName) {
            // Hide all modules
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));

            // Show selected module
            const moduleElement = document.getElementById(`${moduleName}-module`);
            if (moduleElement) moduleElement.classList.add('active');

            // Mark nav item as active
            event.target.closest('.nav-item')?.classList.add('active');

            // Update header
            const titles = {
                dashboard: ['Dashboard', 'Welcome to your workspace'],
                cooperative: ['Cooperative', 'Producer and collection management'],
                finance: ['Finance', 'Financial management and accounting'],
                'supply-chain': ['Supply Chain', 'Inventory and supplier management'],
                hr: ['Human Resources', 'Payroll and employee management'],
                crm: ['Customer Relations', 'Sales pipeline and customer relationships'],
                projects: ['Projects', 'Project and budget tracking'],
                analytics: ['Analytics', 'Business intelligence and KPIs'],
                reports: ['Reports', 'Audit and operational reports'],
                settings: ['Settings', 'System configuration'],
                admin: ['Administration', 'User management and permissions']
            };

            const [title, subtitle] = titles[moduleName] || ['Module', 'Module content'];
            document.getElementById('headerTitle').textContent = title;
            document.getElementById('headerSubtitle').textContent = subtitle;

            // Close sidebar on mobile
            if (window.innerWidth < 1024) {
                document.getElementById('sidebar').classList.remove('mobile-visible');
            }

            currentModule = moduleName;

            // Render module data
            if (moduleName === 'cooperative') renderProducers();
            if (moduleName === 'finance') renderFinance();
            if (moduleName === 'supply-chain') renderSupplyChain();
        }

        // Toast notifications
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icons = {
                success: '‚úì',
                error: '‚úï',
                info: '‚Ñπ',
                warning: '‚ö†'
            };

            toast.innerHTML = `
                <span class="toast-icon">${icons[type]}</span>
                <span>${message}</span>
            `;

            container.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideDown 0.3s ease-out reverse';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Toggle sidebar on mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-visible');
            sidebar.classList.toggle('mobile-hidden');
        }

        // Toggle notifications
        function toggleNotifications() {
            document.getElementById('notificationsPanel').classList.toggle('active');
        }

        // Toggle user menu
        function toggleUserMenu() {
            document.getElementById('userMenu').classList.toggle('active');
        }

        // Toggle quick actions
        function toggleQuickActions() {
            document.getElementById('quickActionsMenu').classList.toggle('active');
        }

        // Form functions (stubs)
        function showProducerForm() {
            const modal = document.getElementById('modal');
            const content = document.getElementById('modalContent');
            
            content.innerHTML = `
                <div class="modal-header">
                    <h3>Add New Producer</h3>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="login-input-group">
                    <label class="login-label">Full Name</label>
                    <input type="text" id="newProdName" class="login-input" placeholder="Enter name">
                </div>
                <div class="login-input-group">
                    <label class="login-label">Zone</label>
                    <select id="newProdZone" class="login-input" style="background: rgba(0, 240, 255, 0.05); color: white;">
                        ${zones.map(z => `<option value="${z}">${z}</option>`).join('')}
                    </select>
                </div>
                <div class="login-input-group">
                    <label class="login-label">Phone</label>
                    <input type="text" id="newProdPhone" class="login-input" placeholder="+225 ...">
                </div>
                <button class="btn btn-primary" onclick="saveProducer()">Save Producer</button>
            `;
            
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function saveProducer() {
            const name = document.getElementById('newProdName').value;
            const zone = document.getElementById('newProdZone').value;
            const phone = document.getElementById('newProdPhone').value;

            if(!name || !phone) {
                showToast('Please fill all fields', 'error');
                return;
            }

            const newProducer = {
                id: `PROD-${String(ERPData.producers.length + 1).padStart(4, '0')}`,
                nom: name,
                zone: zone,
                superficie: '0.00',
                statut: 'Active',
                telephone: phone,
                dateInscription: new Date()
            };

            ERPData.producers.unshift(newProducer);
            showToast('Producer added successfully', 'success');
            closeModal();
            if(currentModule === 'cooperative') renderProducers();
            
            // Update KPI if on dashboard
            const activeProducers = ERPData.producers.filter(p => p.statut === 'Active').length;
            document.getElementById('kpiProducers').textContent = activeProducers.toLocaleString();
        }

        function showCollectionForm() {
            showToast('Collection form in development', 'info');
        }

        function showTransactionForm() {
            showToast('Transaction form in development', 'info');
        }

        function showInventoryForm() {
            showToast('Inventory form in development', 'info');
        }

        function exportData() {
            let dataToExport = [];
            let fileName = 'export.xlsx';

            if (currentModule === 'cooperative') {
                dataToExport = ERPData.producers;
                fileName = 'producers.xlsx';
            } else if (currentModule === 'finance') {
                dataToExport = ERPData.transactions;
                fileName = 'finance.xlsx';
            } else if (currentModule === 'supply-chain') {
                dataToExport = ERPData.inventory;
                fileName = 'inventory.xlsx';
            } else {
                // Default to producers if on dashboard or other
                dataToExport = ERPData.producers;
                fileName = 'scck_data.xlsx';
            }

            const ws = XLSX.utils.json_to_sheet(dataToExport);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>     const moduleElement = document.getElementById(`${moduleName}-module`);
            if (moduleElement) moduleElement.classList.add('active');

            // Mark nav item as active
            event.target.closest('.nav-item')?.classList.add('active');

            // Update header
            const titles = {
                dashboard: ['Dashboard', 'Welcome to your workspace'],
                cooperative: ['Cooperative', 'Producer and collection management'],
                finance: ['Finance', 'Financial management and accounting'],
                'supply-chain': ['Supply Chain', 'Inventory and supplier management'],
                hr: ['Human Resources', 'Payroll and employee management'],
                crm: ['Customer Relations', 'Sales pipeline and customer relationships'],
                projects: ['Projects', 'Project and budget tracking'],
                analytics: ['Analytics', 'Business intelligence and KPIs'],
                reports: ['Reports', 'Audit and operational reports'],
                settings: ['Settings', 'System configuration'],
                admin: ['Administration', 'User management and permissions']
            };

            const [title, subtitle] = titles[moduleName] || ['Module', 'Module content'];
            document.getElementById('headerTitle').textContent = title;
            document.getElementById('headerSubtitle').textContent = subtitle;

            // Close sidebar on mobile
            ifon sh wInve(toryForm() {
  w         showToast('Invintory form in development', 'info');
        }

        function endow.innerWidth < 1024) {
                document.getElementById('sidebar').classList.remove('mobile-visible');
            }

            currentModule = moduleName;

            // Render module data
            if (moduleName === 'cooperative') renderProducers();
            if (moduleName === 'finance') renderFinance();
            if (moduleName === 'sup.xlsx';
            } else if (currentModule === 'supply-chain') {
                dataToExport = ERPData.inventory;
                fileName = 'inventoryply-chain') renderSupplyChain();
        }

        // Toast notifications
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icons = {
                success: '‚úì',
                error: '‚úï',
                info: '‚Ñπ',
                warning: '‚ö†'
            };

            toast.innerHTML = `
                <span class="toast-icon">${icons[type]}</span>
                <span>${message}</span>
            `;

            container.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideDown 0.3s ease-out reverse';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Toggle sidebar on mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-visible');
            sidebar.classList.toggle('mobile-hidden');
        }
on shwInvetoryForm() {
           showToast('Invntory form in development', 'info');
        }

        function e
        // Toggle notifications
        function toggleNotifications() {
            document.getElementById('notificationsPanel').classList.toggle('active');
        }

        // Toggle user menu
        function toggleUserMenu() {
            document.getElementById('userMenu').classList.toggle('active');
        }.xlsx';
            } else if (currentModule === 'supply-chain') {
                dataToExport = ERPData.inventory;
                fileName = 'inventory

        // Toggle quick actions
        function toggleQuickActions() {
            document.getElementById('quickActionsMenu').classList.toggle('active');
        }

        // Form functions (stubs)
        function showProducerForm() {
            const modal = document.getElementById('modal');
            const content = document.getElementById('modalContent');
            
            content.innerHTML = `
                <div class="modal-header">
                    <h3>Add New Producer</h3>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="login-input-group">
                    <label class="login-label">Full Name</label>
                    <input type="text" id="newProdName" class="login-input" placeholder="Enter name">
                </div>
                <div class="login-input-group">
                    <label class="login-label">Zone</label>
                    <select id="newProdZone" class="login-input" style="background: rgba(0, 240, 255, 0.05); color: white;">
                        ${zones.map(z => `<option value="${z}">${z}</option>`).join('')}
                    </select>
                </div>
                <div class="login-input-group">
                    <label class="login-label">Phone</label>
                    <input type="text" id="newProdPhone" class="login-input" placeholder="+225 ...">
                </div>
                <button class="btn btn-primary" onclick="saveProducer()">Save Producer</button>
            `;
            
            modal.classList.add('active');
        }on shwInvetoryForm() {
           showToast('Invntory form in development', 'info');
        }

        function e

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function saveProducer() {
            const name = document.getElementById('newProdName').value;
            const zone = document.getElementById('newProdZone').value;
            const phone = document..xlsx';
            } else if (currentModule === 'supply-chain') {
                dataToExport = ERPData.inventory;
                fileName = 'inventorygetElementById('newProdPhone').value;

            if(!name || !phone) {
                showToast('Please fill all fields', 'error');
                return;
            }

            const newProducer = {
                id: `PROD-${String(ERPData.producers.length + 1).padStart(4, '0')}`,
                nom: name,
                zone: zone,
                superficie: '0.00',
                statut: 'Active',
                telephone: phone,
                dateInscription: new Date()
            };

            ERPData.producers.unshift(newProducer);
            showToast('Producer added successfully', 'success');
            closeModal();
            if(currentModule === 'cooperative') renderProducers();
            
            // Update KPI if on dashboard
            const activeProducers = ERPData.producers.filter(p => p.statut === 'Active').length;
            document.getElementById('kpiProducers').textContent = activeProducers.toLocaleString();
        }

        function showCollectionForm() {
            showToast('Collection form in development', 'info');
        }

        function showTransactionForm() {
            showToast('Transaction form in development', 'info');
        }

        function showInventoryForm() {
            showToast('Inventory form in development', 'info');
        }

        function exportData() {
            let dataToExport = [];
            let fileName = 'export.xlsx';

            if (currentModule === 'cooperative') {
                dataToExport = ERPData.producers;
                fileName = 'producers.xlsx';
            } else if (currentModule === 'finance') {
                dataToExport = ERPData.transactions;
                fileName = 'finance.xlsx';
            } else if (currentModule === 'supply-chain') {
                dataToExport = ERPData.inventory;
                fileName = 'inventory.xlsx';
            } else {
                // Default to producers if on dashboard or other
                dataToExport = ERPData.producers;
                fileName = 'scck_data.xlsx';
            }

            const ws = XLSX.utils.json_to_sheet(dataToExport);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Data");
            XLSX.writeFile(wb, fileName);
            
            showToast(`Exported ${dataToExport.length} records to ${fileName}`, 'success');
        }

        function showProfile() {
            showToast('Displaying user profile', 'info');
            document.getElementById('userMenu').classList.remove('active');
        }

        function showSettings() {
            switchModule('settings');
            document.getElementById('userMenu').classList.remove('active');
        }

        // Setup event listeners
        function setupEventListeners() {
            lucide.createIcons();

            // Ctrl+K for search
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    document.querySelector('.search-box')?.focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('userMenu').classList.remove('active');
                    document.getElementById('notificationsPanel').classList.remove('active');
                    document.getElementById('quickActionsMenu').classList.remove('active');
                }
            });

            // Close menus on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.user-profile') && !e.target.closest('.user-menu')) {
                    document.getElementById('userMenu').classList.remove('active');
                }
                if (!e.target.closest('.icon-btn[onclick*="toggleNotifications"]') && !e.target.closest('.notifications-panel')) {
                    document.getElementById('notificationsPanel').classList.remove('active');
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', async () => {
            initializeData();
            await simulateLoading();
        });
    </script>
</body>
</html>